import java.util.ArrayList;
import java.util.HashSet;
import java.util.StringJoiner;

public class Day9 {

    private static String input =
            "D 2\n" +
            "R 1\n" +
            "L 2\n" +
            "U 1\n" +
            "R 2\n" +
            "L 2\n" +
            "R 2\n" +
            "L 1\n" +
            "R 1\n" +
            "L 1\n" +
            "R 2\n" +
            "L 2\n" +
            "R 1\n" +
            "D 2\n" +
            "U 1\n" +
            "R 1\n" +
            "L 2\n" +
            "U 2\n" +
            "R 2\n" +
            "U 2\n" +
            "R 2\n" +
            "D 1\n" +
            "L 1\n" +
            "U 1\n" +
            "R 2\n" +
            "L 1\n" +
            "D 1\n" +
            "U 1\n" +
            "L 1\n" +
            "U 1\n" +
            "D 2\n" +
            "U 1\n" +
            "R 2\n" +
            "U 1\n" +
            "L 1\n" +
            "D 1\n" +
            "L 1\n" +
            "U 1\n" +
            "R 1\n" +
            "L 1\n" +
            "U 2\n" +
            "L 2\n" +
            "D 2\n" +
            "L 2\n" +
            "R 2\n" +
            "U 1\n" +
            "R 1\n" +
            "U 2\n" +
            "D 2\n" +
            "R 2\n" +
            "L 1\n" +
            "R 1\n" +
            "D 1\n" +
            "U 2\n" +
            "R 1\n" +
            "L 1\n" +
            "U 2\n" +
            "L 2\n" +
            "U 1\n" +
            "L 2\n" +
            "U 1\n" +
            "R 1\n" +
            "L 1\n" +
            "D 2\n" +
            "U 2\n" +
            "R 2\n" +
            "D 1\n" +
            "R 1\n" +
            "U 2\n" +
            "R 2\n" +
            "L 2\n" +
            "U 1\n" +
            "L 1\n" +
            "D 2\n" +
            "R 2\n" +
            "L 1\n" +
            "R 1\n" +
            "D 1\n" +
            "R 1\n" +
            "L 1\n" +
            "D 2\n" +
            "R 1\n" +
            "U 1\n" +
            "L 1\n" +
            "R 1\n" +
            "L 1\n" +
            "D 2\n" +
            "L 1\n" +
            "U 1\n" +
            "R 1\n" +
            "D 1\n" +
            "R 1\n" +
            "D 1\n" +
            "L 2\n" +
            "U 1\n" +
            "D 1\n" +
            "R 2\n" +
            "D 2\n" +
            "R 2\n" +
            "L 2\n" +
            "U 2\n" +
            "L 1\n" +
            "U 1\n" +
            "L 1\n" +
            "R 1\n" +
            "L 1\n" +
            "U 2\n" +
            "L 2\n" +
            "U 2\n" +
            "L 1\n" +
            "U 1\n" +
            "D 1\n" +
            "U 3\n" +
            "R 2\n" +
            "D 2\n" +
            "R 1\n" +
            "U 2\n" +
            "L 2\n" +
            "D 1\n" +
            "U 1\n" +
            "R 2\n" +
            "U 3\n" +
            "D 1\n" +
            "L 3\n" +
            "U 2\n" +
            "D 2\n" +
            "R 1\n" +
            "D 1\n" +
            "L 1\n" +
            "D 2\n" +
            "L 2\n" +
            "U 1\n" +
            "L 2\n" +
            "R 3\n" +
            "U 3\n" +
            "L 1\n" +
            "U 3\n" +
            "L 1\n" +
            "D 1\n" +
            "U 3\n" +
            "R 1\n" +
            "U 3\n" +
            "D 2\n" +
            "L 3\n" +
            "R 3\n" +
            "L 2\n" +
            "U 1\n" +
            "D 1\n" +
            "U 1\n" +
            "L 1\n" +
            "D 1\n" +
            "R 2\n" +
            "U 3\n" +
            "D 3\n" +
            "L 3\n" +
            "R 1\n" +
            "U 3\n" +
            "D 1\n" +
            "U 3\n" +
            "L 1\n" +
            "D 3\n" +
            "R 3\n" +
            "U 2\n" +
            "D 1\n" +
            "R 2\n" +
            "U 1\n" +
            "R 3\n" +
            "U 1\n" +
            "D 1\n" +
            "U 1\n" +
            "L 1\n" +
            "R 3\n" +
            "U 2\n" +
            "D 3\n" +
            "U 2\n" +
            "R 2\n" +
            "L 1\n" +
            "D 3\n" +
            "R 3\n" +
            "L 2\n" +
            "U 1\n" +
            "L 2\n" +
            "U 2\n" +
            "R 3\n" +
            "U 3\n" +
            "D 2\n" +
            "U 2\n" +
            "D 3\n" +
            "R 1\n" +
            "D 1\n" +
            "R 3\n" +
            "D 1\n" +
            "L 3\n" +
            "R 2\n" +
            "D 1\n" +
            "L 1\n" +
            "D 1\n" +
            "L 3\n" +
            "D 1\n" +
            "L 3\n" +
            "D 2\n" +
            "L 2\n" +
            "D 2\n" +
            "R 1\n" +
            "U 2\n" +
            "D 1\n" +
            "U 3\n" +
            "L 3\n" +
            "D 1\n" +
            "R 3\n" +
            "L 2\n" +
            "D 2\n" +
            "U 2\n" +
            "R 1\n" +
            "U 2\n" +
            "R 3\n" +
            "L 1\n" +
            "R 3\n" +
            "L 1\n" +
            "D 1\n" +
            "U 2\n" +
            "L 3\n" +
            "U 3\n" +
            "R 2\n" +
            "L 1\n" +
            "R 2\n" +
            "U 4\n" +
            "R 1\n" +
            "U 2\n" +
            "L 2\n" +
            "D 3\n" +
            "U 1\n" +
            "L 2\n" +
            "U 1\n" +
            "L 2\n" +
            "D 3\n" +
            "U 1\n" +
            "D 3\n" +
            "U 1\n" +
            "D 3\n" +
            "L 2\n" +
            "R 1\n" +
            "L 3\n" +
            "R 2\n" +
            "U 2\n" +
            "L 2\n" +
            "D 3\n" +
            "L 2\n" +
            "U 3\n" +
            "R 4\n" +
            "L 3\n" +
            "D 4\n" +
            "L 3\n" +
            "U 2\n" +
            "L 2\n" +
            "U 4\n" +
            "R 2\n" +
            "D 4\n" +
            "R 1\n" +
            "D 4\n" +
            "U 4\n" +
            "D 3\n" +
            "R 2\n" +
            "D 4\n" +
            "U 1\n" +
            "D 4\n" +
            "U 4\n" +
            "R 2\n" +
            "D 3\n" +
            "R 4\n" +
            "D 2\n" +
            "L 2\n" +
            "R 4\n" +
            "L 1\n" +
            "D 2\n" +
            "U 4\n" +
            "R 4\n" +
            "U 4\n" +
            "L 4\n" +
            "U 2\n" +
            "D 3\n" +
            "L 3\n" +
            "U 3\n" +
            "R 1\n" +
            "L 2\n" +
            "D 2\n" +
            "L 3\n" +
            "R 2\n" +
            "U 3\n" +
            "D 4\n" +
            "L 1\n" +
            "D 4\n" +
            "U 3\n" +
            "L 3\n" +
            "U 4\n" +
            "D 1\n" +
            "U 2\n" +
            "D 4\n" +
            "L 4\n" +
            "D 3\n" +
            "R 3\n" +
            "U 1\n" +
            "L 4\n" +
            "D 2\n" +
            "R 4\n" +
            "U 4\n" +
            "L 4\n" +
            "U 3\n" +
            "L 4\n" +
            "R 3\n" +
            "D 3\n" +
            "L 1\n" +
            "U 2\n" +
            "R 1\n" +
            "U 2\n" +
            "D 3\n" +
            "U 4\n" +
            "L 1\n" +
            "D 2\n" +
            "U 1\n" +
            "D 1\n" +
            "L 1\n" +
            "D 1\n" +
            "U 1\n" +
            "D 3\n" +
            "L 1\n" +
            "D 4\n" +
            "L 2\n" +
            "R 3\n" +
            "L 2\n" +
            "R 4\n" +
            "L 4\n" +
            "U 2\n" +
            "R 3\n" +
            "L 2\n" +
            "D 3\n" +
            "L 2\n" +
            "U 2\n" +
            "R 3\n" +
            "U 1\n" +
            "D 3\n" +
            "U 5\n" +
            "D 4\n" +
            "U 3\n" +
            "L 1\n" +
            "D 4\n" +
            "U 3\n" +
            "D 2\n" +
            "L 1\n" +
            "R 3\n" +
            "U 5\n" +
            "L 5\n" +
            "R 1\n" +
            "D 2\n" +
            "R 2\n" +
            "D 3\n" +
            "L 4\n" +
            "D 4\n" +
            "U 2\n" +
            "D 3\n" +
            "R 5\n" +
            "D 3\n" +
            "U 2\n" +
            "D 4\n" +
            "L 1\n" +
            "D 5\n" +
            "R 2\n" +
            "D 1\n" +
            "U 2\n" +
            "L 1\n" +
            "R 5\n" +
            "U 4\n" +
            "L 5\n" +
            "D 2\n" +
            "U 4\n" +
            "D 5\n" +
            "U 4\n" +
            "L 4\n" +
            "U 3\n" +
            "D 2\n" +
            "L 2\n" +
            "R 2\n" +
            "D 1\n" +
            "U 1\n" +
            "R 5\n" +
            "L 3\n" +
            "R 4\n" +
            "D 5\n" +
            "R 5\n" +
            "D 4\n" +
            "L 1\n" +
            "R 2\n" +
            "U 3\n" +
            "R 5\n" +
            "D 5\n" +
            "R 3\n" +
            "D 1\n" +
            "R 3\n" +
            "D 2\n" +
            "U 4\n" +
            "D 1\n" +
            "U 5\n" +
            "L 1\n" +
            "U 3\n" +
            "L 3\n" +
            "D 1\n" +
            "R 3\n" +
            "U 1\n" +
            "L 3\n" +
            "R 2\n" +
            "L 4\n" +
            "R 4\n" +
            "U 1\n" +
            "D 5\n" +
            "R 2\n" +
            "L 5\n" +
            "R 5\n" +
            "U 3\n" +
            "D 1\n" +
            "R 4\n" +
            "D 5\n" +
            "L 5\n" +
            "R 4\n" +
            "U 5\n" +
            "R 4\n" +
            "D 3\n" +
            "R 4\n" +
            "D 2\n" +
            "R 2\n" +
            "U 1\n" +
            "D 2\n" +
            "L 1\n" +
            "R 1\n" +
            "L 3\n" +
            "D 3\n" +
            "L 5\n" +
            "D 4\n" +
            "R 5\n" +
            "D 2\n" +
            "L 5\n" +
            "U 3\n" +
            "R 3\n" +
            "L 5\n" +
            "U 3\n" +
            "L 5\n" +
            "R 5\n" +
            "L 2\n" +
            "U 4\n" +
            "D 2\n" +
            "R 1\n" +
            "L 5\n" +
            "R 1\n" +
            "U 5\n" +
            "L 2\n" +
            "R 2\n" +
            "U 6\n" +
            "L 6\n" +
            "U 2\n" +
            "R 5\n" +
            "U 3\n" +
            "R 2\n" +
            "D 3\n" +
            "U 3\n" +
            "D 1\n" +
            "L 1\n" +
            "U 2\n" +
            "R 5\n" +
            "L 1\n" +
            "R 5\n" +
            "D 6\n" +
            "R 4\n" +
            "L 4\n" +
            "U 1\n" +
            "R 3\n" +
            "D 5\n" +
            "U 3\n" +
            "L 6\n" +
            "U 1\n" +
            "D 6\n" +
            "R 6\n" +
            "L 4\n" +
            "R 4\n" +
            "U 6\n" +
            "R 6\n" +
            "U 3\n" +
            "R 6\n" +
            "U 2\n" +
            "R 6\n" +
            "U 4\n" +
            "R 2\n" +
            "L 5\n" +
            "U 2\n" +
            "D 6\n" +
            "L 4\n" +
            "U 5\n" +
            "L 4\n" +
            "R 6\n" +
            "L 1\n" +
            "R 3\n" +
            "L 3\n" +
            "D 1\n" +
            "L 5\n" +
            "D 1\n" +
            "L 5\n" +
            "R 2\n" +
            "D 3\n" +
            "L 1\n" +
            "U 6\n" +
            "R 6\n" +
            "U 2\n" +
            "L 3\n" +
            "R 4\n" +
            "U 6\n" +
            "R 3\n" +
            "L 4\n" +
            "U 1\n" +
            "R 1\n" +
            "D 1\n" +
            "L 4\n" +
            "D 6\n" +
            "U 1\n" +
            "R 2\n" +
            "L 6\n" +
            "U 3\n" +
            "R 1\n" +
            "L 1\n" +
            "D 3\n" +
            "R 1\n" +
            "U 4\n" +
            "D 2\n" +
            "L 1\n" +
            "D 3\n" +
            "R 2\n" +
            "D 5\n" +
            "L 3\n" +
            "R 6\n" +
            "U 4\n" +
            "D 4\n" +
            "L 4\n" +
            "U 2\n" +
            "D 2\n" +
            "L 4\n" +
            "D 6\n" +
            "U 5\n" +
            "D 5\n" +
            "R 6\n" +
            "D 1\n" +
            "L 4\n" +
            "R 2\n" +
            "U 3\n" +
            "D 5\n" +
            "R 4\n" +
            "U 6\n" +
            "R 4\n" +
            "U 6\n" +
            "L 7\n" +
            "U 6\n" +
            "D 1\n" +
            "U 2\n" +
            "D 6\n" +
            "R 4\n" +
            "U 7\n" +
            "D 2\n" +
            "L 6\n" +
            "R 2\n" +
            "U 7\n" +
            "R 7\n" +
            "L 1\n" +
            "U 2\n" +
            "L 5\n" +
            "R 4\n" +
            "L 7\n" +
            "R 3\n" +
            "D 5\n" +
            "U 7\n" +
            "D 4\n" +
            "L 6\n" +
            "U 5\n" +
            "L 4\n" +
            "D 2\n" +
            "U 2\n" +
            "D 2\n" +
            "U 5\n" +
            "R 7\n" +
            "D 3\n" +
            "U 3\n" +
            "D 6\n" +
            "U 4\n" +
            "D 2\n" +
            "R 6\n" +
            "L 5\n" +
            "U 3\n" +
            "R 1\n" +
            "D 7\n" +
            "R 7\n" +
            "U 4\n" +
            "R 7\n" +
            "U 2\n" +
            "R 1\n" +
            "L 4\n" +
            "U 6\n" +
            "L 1\n" +
            "D 1\n" +
            "U 3\n" +
            "R 7\n" +
            "U 1\n" +
            "R 3\n" +
            "L 3\n" +
            "R 2\n" +
            "U 6\n" +
            "L 6\n" +
            "D 7\n" +
            "L 7\n" +
            "R 3\n" +
            "U 5\n" +
            "L 5\n" +
            "D 4\n" +
            "L 7\n" +
            "R 5\n" +
            "U 7\n" +
            "D 5\n" +
            "R 2\n" +
            "U 2\n" +
            "L 4\n" +
            "U 4\n" +
            "D 5\n" +
            "L 6\n" +
            "R 3\n" +
            "D 4\n" +
            "U 3\n" +
            "D 6\n" +
            "L 5\n" +
            "U 1\n" +
            "L 4\n" +
            "R 2\n" +
            "L 2\n" +
            "U 7\n" +
            "R 4\n" +
            "U 4\n" +
            "L 4\n" +
            "D 1\n" +
            "U 1\n" +
            "D 3\n" +
            "U 3\n" +
            "D 3\n" +
            "R 6\n" +
            "L 5\n" +
            "R 6\n" +
            "D 1\n" +
            "U 4\n" +
            "L 5\n" +
            "U 2\n" +
            "D 6\n" +
            "L 1\n" +
            "U 5\n" +
            "D 5\n" +
            "R 5\n" +
            "D 1\n" +
            "L 4\n" +
            "D 2\n" +
            "U 1\n" +
            "R 3\n" +
            "U 3\n" +
            "L 3\n" +
            "D 5\n" +
            "U 2\n" +
            "R 4\n" +
            "U 1\n" +
            "D 8\n" +
            "R 2\n" +
            "U 4\n" +
            "L 4\n" +
            "D 8\n" +
            "R 2\n" +
            "U 6\n" +
            "D 4\n" +
            "R 5\n" +
            "U 4\n" +
            "R 2\n" +
            "L 2\n" +
            "U 4\n" +
            "D 8\n" +
            "R 7\n" +
            "L 5\n" +
            "R 5\n" +
            "U 6\n" +
            "R 6\n" +
            "U 7\n" +
            "D 2\n" +
            "U 6\n" +
            "D 1\n" +
            "R 5\n" +
            "U 1\n" +
            "D 6\n" +
            "R 7\n" +
            "L 1\n" +
            "R 1\n" +
            "D 1\n" +
            "R 3\n" +
            "D 8\n" +
            "R 1\n" +
            "U 2\n" +
            "L 4\n" +
            "R 4\n" +
            "L 6\n" +
            "R 2\n" +
            "U 7\n" +
            "R 1\n" +
            "L 3\n" +
            "D 1\n" +
            "L 3\n" +
            "U 7\n" +
            "R 8\n" +
            "L 7\n" +
            "D 1\n" +
            "R 1\n" +
            "L 7\n" +
            "D 7\n" +
            "U 5\n" +
            "D 5\n" +
            "L 1\n" +
            "U 7\n" +
            "D 7\n" +
            "R 5\n" +
            "D 5\n" +
            "U 5\n" +
            "R 6\n" +
            "L 8\n" +
            "R 6\n" +
            "L 1\n" +
            "R 3\n" +
            "D 1\n" +
            "L 2\n" +
            "U 7\n" +
            "R 5\n" +
            "L 4\n" +
            "U 3\n" +
            "L 6\n" +
            "U 6\n" +
            "R 6\n" +
            "L 4\n" +
            "U 6\n" +
            "R 5\n" +
            "U 2\n" +
            "R 7\n" +
            "U 8\n" +
            "R 5\n" +
            "U 2\n" +
            "R 4\n" +
            "L 5\n" +
            "R 1\n" +
            "D 4\n" +
            "L 8\n" +
            "R 3\n" +
            "L 2\n" +
            "U 7\n" +
            "R 4\n" +
            "L 6\n" +
            "R 5\n" +
            "U 2\n" +
            "L 3\n" +
            "D 8\n" +
            "R 8\n" +
            "D 7\n" +
            "L 4\n" +
            "D 4\n" +
            "R 6\n" +
            "L 7\n" +
            "U 8\n" +
            "L 5\n" +
            "R 4\n" +
            "D 4\n" +
            "R 8\n" +
            "D 2\n" +
            "L 7\n" +
            "D 6\n" +
            "U 3\n" +
            "L 4\n" +
            "R 6\n" +
            "U 8\n" +
            "L 2\n" +
            "R 6\n" +
            "L 7\n" +
            "U 4\n" +
            "L 3\n" +
            "D 2\n" +
            "R 8\n" +
            "U 3\n" +
            "D 2\n" +
            "U 5\n" +
            "R 7\n" +
            "D 7\n" +
            "L 6\n" +
            "U 8\n" +
            "D 6\n" +
            "U 5\n" +
            "D 6\n" +
            "U 2\n" +
            "L 7\n" +
            "R 4\n" +
            "L 9\n" +
            "R 2\n" +
            "U 3\n" +
            "R 7\n" +
            "U 6\n" +
            "L 3\n" +
            "U 8\n" +
            "L 9\n" +
            "U 5\n" +
            "R 1\n" +
            "L 5\n" +
            "D 5\n" +
            "R 8\n" +
            "L 3\n" +
            "U 1\n" +
            "L 2\n" +
            "D 5\n" +
            "U 1\n" +
            "D 8\n" +
            "U 5\n" +
            "D 7\n" +
            "L 9\n" +
            "U 6\n" +
            "D 4\n" +
            "R 5\n" +
            "U 3\n" +
            "L 1\n" +
            "D 9\n" +
            "R 4\n" +
            "D 7\n" +
            "U 2\n" +
            "R 2\n" +
            "D 4\n" +
            "L 2\n" +
            "U 9\n" +
            "R 7\n" +
            "U 1\n" +
            "R 2\n" +
            "D 7\n" +
            "R 3\n" +
            "D 6\n" +
            "L 7\n" +
            "U 5\n" +
            "R 9\n" +
            "U 4\n" +
            "L 7\n" +
            "R 5\n" +
            "U 7\n" +
            "L 4\n" +
            "D 4\n" +
            "R 9\n" +
            "D 5\n" +
            "L 5\n" +
            "D 1\n" +
            "R 2\n" +
            "D 6\n" +
            "L 8\n" +
            "U 8\n" +
            "L 6\n" +
            "D 7\n" +
            "L 5\n" +
            "U 2\n" +
            "L 3\n" +
            "D 9\n" +
            "U 8\n" +
            "D 3\n" +
            "L 8\n" +
            "R 2\n" +
            "D 7\n" +
            "R 5\n" +
            "D 3\n" +
            "U 1\n" +
            "R 3\n" +
            "L 9\n" +
            "U 3\n" +
            "D 2\n" +
            "L 4\n" +
            "D 7\n" +
            "R 8\n" +
            "U 7\n" +
            "D 5\n" +
            "U 5\n" +
            "R 7\n" +
            "L 8\n" +
            "D 7\n" +
            "L 7\n" +
            "D 8\n" +
            "U 5\n" +
            "R 9\n" +
            "U 10\n" +
            "R 5\n" +
            "U 6\n" +
            "R 7\n" +
            "D 9\n" +
            "L 2\n" +
            "R 1\n" +
            "D 2\n" +
            "R 9\n" +
            "L 4\n" +
            "U 4\n" +
            "R 5\n" +
            "D 9\n" +
            "U 4\n" +
            "L 7\n" +
            "D 9\n" +
            "L 4\n" +
            "D 4\n" +
            "L 10\n" +
            "U 9\n" +
            "L 8\n" +
            "R 10\n" +
            "U 9\n" +
            "L 10\n" +
            "U 2\n" +
            "R 8\n" +
            "L 2\n" +
            "D 6\n" +
            "R 1\n" +
            "D 1\n" +
            "L 5\n" +
            "U 2\n" +
            "R 9\n" +
            "U 2\n" +
            "R 1\n" +
            "U 1\n" +
            "L 6\n" +
            "D 1\n" +
            "R 2\n" +
            "D 10\n" +
            "L 7\n" +
            "R 2\n" +
            "U 7\n" +
            "D 4\n" +
            "R 9\n" +
            "L 7\n" +
            "D 8\n" +
            "U 5\n" +
            "R 10\n" +
            "L 10\n" +
            "D 2\n" +
            "U 2\n" +
            "R 8\n" +
            "U 9\n" +
            "D 1\n" +
            "R 2\n" +
            "L 10\n" +
            "U 5\n" +
            "R 8\n" +
            "L 7\n" +
            "D 1\n" +
            "R 7\n" +
            "D 3\n" +
            "U 8\n" +
            "L 4\n" +
            "D 3\n" +
            "U 4\n" +
            "R 5\n" +
            "U 9\n" +
            "R 10\n" +
            "U 3\n" +
            "R 10\n" +
            "L 6\n" +
            "R 5\n" +
            "U 8\n" +
            "D 9\n" +
            "R 4\n" +
            "U 9\n" +
            "L 1\n" +
            "U 7\n" +
            "R 4\n" +
            "U 2\n" +
            "L 7\n" +
            "D 9\n" +
            "U 8\n" +
            "L 7\n" +
            "U 8\n" +
            "L 3\n" +
            "R 7\n" +
            "D 7\n" +
            "L 7\n" +
            "D 6\n" +
            "L 2\n" +
            "D 5\n" +
            "U 4\n" +
            "R 8\n" +
            "L 6\n" +
            "R 7\n" +
            "D 4\n" +
            "U 10\n" +
            "L 8\n" +
            "R 10\n" +
            "D 2\n" +
            "R 1\n" +
            "U 7\n" +
            "L 5\n" +
            "R 5\n" +
            "L 10\n" +
            "D 5\n" +
            "R 10\n" +
            "U 7\n" +
            "L 7\n" +
            "R 9\n" +
            "D 2\n" +
            "L 8\n" +
            "R 11\n" +
            "D 4\n" +
            "R 6\n" +
            "L 5\n" +
            "R 8\n" +
            "U 1\n" +
            "L 6\n" +
            "U 3\n" +
            "L 1\n" +
            "D 10\n" +
            "L 9\n" +
            "D 3\n" +
            "U 10\n" +
            "L 9\n" +
            "U 8\n" +
            "D 11\n" +
            "U 11\n" +
            "L 1\n" +
            "R 2\n" +
            "U 1\n" +
            "L 3\n" +
            "U 2\n" +
            "D 1\n" +
            "U 4\n" +
            "R 6\n" +
            "L 6\n" +
            "R 7\n" +
            "L 9\n" +
            "R 8\n" +
            "L 4\n" +
            "D 11\n" +
            "L 4\n" +
            "U 10\n" +
            "D 6\n" +
            "L 10\n" +
            "U 2\n" +
            "R 3\n" +
            "L 10\n" +
            "D 5\n" +
            "L 1\n" +
            "D 2\n" +
            "R 6\n" +
            "U 2\n" +
            "L 2\n" +
            "U 9\n" +
            "R 10\n" +
            "L 4\n" +
            "D 2\n" +
            "R 10\n" +
            "L 5\n" +
            "U 2\n" +
            "L 1\n" +
            "D 6\n" +
            "L 4\n" +
            "U 5\n" +
            "D 8\n" +
            "U 11\n" +
            "D 5\n" +
            "U 10\n" +
            "L 8\n" +
            "R 5\n" +
            "L 6\n" +
            "R 5\n" +
            "L 2\n" +
            "R 7\n" +
            "D 4\n" +
            "L 9\n" +
            "D 2\n" +
            "R 11\n" +
            "D 5\n" +
            "U 6\n" +
            "D 2\n" +
            "L 4\n" +
            "R 9\n" +
            "L 2\n" +
            "D 5\n" +
            "R 2\n" +
            "D 9\n" +
            "R 8\n" +
            "L 3\n" +
            "U 8\n" +
            "R 9\n" +
            "D 8\n" +
            "R 4\n" +
            "D 5\n" +
            "U 7\n" +
            "D 7\n" +
            "R 4\n" +
            "D 10\n" +
            "L 1\n" +
            "D 5\n" +
            "U 11\n" +
            "L 11\n" +
            "U 11\n" +
            "L 10\n" +
            "U 9\n" +
            "L 6\n" +
            "D 4\n" +
            "R 6\n" +
            "D 8\n" +
            "U 6\n" +
            "D 11\n" +
            "R 2\n" +
            "U 9\n" +
            "L 6\n" +
            "U 5\n" +
            "R 10\n" +
            "D 8\n" +
            "L 9\n" +
            "R 8\n" +
            "D 6\n" +
            "L 8\n" +
            "D 12\n" +
            "U 2\n" +
            "R 1\n" +
            "L 1\n" +
            "U 1\n" +
            "R 6\n" +
            "D 3\n" +
            "U 6\n" +
            "D 5\n" +
            "R 9\n" +
            "L 12\n" +
            "U 7\n" +
            "R 6\n" +
            "L 9\n" +
            "U 1\n" +
            "R 12\n" +
            "D 11\n" +
            "R 6\n" +
            "U 11\n" +
            "D 4\n" +
            "L 2\n" +
            "R 12\n" +
            "U 5\n" +
            "R 3\n" +
            "U 11\n" +
            "D 6\n" +
            "U 9\n" +
            "L 10\n" +
            "U 2\n" +
            "L 9\n" +
            "U 9\n" +
            "R 6\n" +
            "L 12\n" +
            "D 2\n" +
            "U 10\n" +
            "R 3\n" +
            "U 12\n" +
            "L 12\n" +
            "R 4\n" +
            "L 11\n" +
            "D 1\n" +
            "L 3\n" +
            "D 11\n" +
            "U 5\n" +
            "D 1\n" +
            "U 12\n" +
            "L 12\n" +
            "U 5\n" +
            "R 8\n" +
            "L 1\n" +
            "D 1\n" +
            "L 3\n" +
            "U 1\n" +
            "R 4\n" +
            "D 4\n" +
            "L 6\n" +
            "R 11\n" +
            "U 11\n" +
            "D 2\n" +
            "U 7\n" +
            "L 3\n" +
            "D 3\n" +
            "R 10\n" +
            "D 1\n" +
            "U 8\n" +
            "D 7\n" +
            "U 6\n" +
            "L 10\n" +
            "R 3\n" +
            "L 6\n" +
            "D 10\n" +
            "L 2\n" +
            "U 6\n" +
            "D 8\n" +
            "R 2\n" +
            "L 5\n" +
            "U 1\n" +
            "D 5\n" +
            "U 10\n" +
            "D 5\n" +
            "L 7\n" +
            "U 3\n" +
            "R 6\n" +
            "D 2\n" +
            "U 5\n" +
            "D 10\n" +
            "L 5\n" +
            "D 2\n" +
            "R 9\n" +
            "L 11\n" +
            "D 3\n" +
            "L 6\n" +
            "R 11\n" +
            "U 10\n" +
            "L 12\n" +
            "D 12\n" +
            "U 8\n" +
            "D 5\n" +
            "R 1\n" +
            "L 6\n" +
            "D 11\n" +
            "U 12\n" +
            "R 11\n" +
            "D 12\n" +
            "L 5\n" +
            "D 7\n" +
            "R 10\n" +
            "U 4\n" +
            "L 1\n" +
            "R 3\n" +
            "U 9\n" +
            "L 13\n" +
            "U 8\n" +
            "R 3\n" +
            "D 4\n" +
            "R 8\n" +
            "D 3\n" +
            "R 8\n" +
            "D 13\n" +
            "U 1\n" +
            "R 12\n" +
            "U 12\n" +
            "L 8\n" +
            "R 5\n" +
            "D 1\n" +
            "U 3\n" +
            "R 9\n" +
            "D 6\n" +
            "U 11\n" +
            "R 3\n" +
            "D 12\n" +
            "R 8\n" +
            "L 6\n" +
            "D 8\n" +
            "U 6\n" +
            "R 13\n" +
            "L 10\n" +
            "U 6\n" +
            "R 5\n" +
            "L 11\n" +
            "U 9\n" +
            "L 12\n" +
            "R 8\n" +
            "L 6\n" +
            "R 3\n" +
            "D 12\n" +
            "L 9\n" +
            "D 3\n" +
            "U 5\n" +
            "L 6\n" +
            "R 7\n" +
            "L 13\n" +
            "D 4\n" +
            "R 7\n" +
            "U 5\n" +
            "D 13\n" +
            "R 4\n" +
            "U 11\n" +
            "D 8\n" +
            "R 5\n" +
            "D 5\n" +
            "U 3\n" +
            "L 6\n" +
            "U 4\n" +
            "R 8\n" +
            "D 8\n" +
            "U 9\n" +
            "L 8\n" +
            "U 2\n" +
            "R 7\n" +
            "L 2\n" +
            "U 1\n" +
            "D 12\n" +
            "R 3\n" +
            "L 2\n" +
            "R 8\n" +
            "D 4\n" +
            "L 7\n" +
            "R 8\n" +
            "D 6\n" +
            "U 10\n" +
            "R 7\n" +
            "L 9\n" +
            "D 5\n" +
            "R 12\n" +
            "U 2\n" +
            "R 10\n" +
            "U 4\n" +
            "L 13\n" +
            "R 9\n" +
            "L 12\n" +
            "U 3\n" +
            "R 10\n" +
            "U 3\n" +
            "L 8\n" +
            "R 12\n" +
            "U 8\n" +
            "R 11\n" +
            "U 5\n" +
            "L 3\n" +
            "D 10\n" +
            "R 8\n" +
            "D 4\n" +
            "R 4\n" +
            "U 9\n" +
            "L 13\n" +
            "U 5\n" +
            "R 11\n" +
            "L 12\n" +
            "U 11\n" +
            "D 9\n" +
            "L 5\n" +
            "R 13\n" +
            "U 2\n" +
            "L 1\n" +
            "U 12\n" +
            "R 13\n" +
            "L 1\n" +
            "R 2\n" +
            "U 6\n" +
            "R 12\n" +
            "D 11\n" +
            "L 8\n" +
            "U 13\n" +
            "L 14\n" +
            "U 13\n" +
            "L 3\n" +
            "U 9\n" +
            "L 10\n" +
            "R 11\n" +
            "D 6\n" +
            "U 8\n" +
            "D 11\n" +
            "U 5\n" +
            "L 11\n" +
            "U 8\n" +
            "L 3\n" +
            "R 2\n" +
            "D 11\n" +
            "L 12\n" +
            "U 14\n" +
            "R 3\n" +
            "D 1\n" +
            "U 14\n" +
            "R 7\n" +
            "D 14\n" +
            "R 4\n" +
            "D 5\n" +
            "L 13\n" +
            "R 2\n" +
            "L 13\n" +
            "U 8\n" +
            "L 7\n" +
            "D 14\n" +
            "L 2\n" +
            "U 13\n" +
            "D 2\n" +
            "L 13\n" +
            "D 13\n" +
            "U 5\n" +
            "L 12\n" +
            "U 3\n" +
            "L 6\n" +
            "D 2\n" +
            "U 3\n" +
            "L 9\n" +
            "D 14\n" +
            "R 3\n" +
            "L 1\n" +
            "R 6\n" +
            "D 3\n" +
            "U 6\n" +
            "D 9\n" +
            "L 5\n" +
            "D 11\n" +
            "L 1\n" +
            "D 11\n" +
            "L 9\n" +
            "D 8\n" +
            "U 13\n" +
            "D 4\n" +
            "R 5\n" +
            "D 14\n" +
            "L 10\n" +
            "U 14\n" +
            "D 14\n" +
            "R 1\n" +
            "L 8\n" +
            "U 5\n" +
            "D 11\n" +
            "U 8\n" +
            "D 14\n" +
            "L 4\n" +
            "D 13\n" +
            "U 13\n" +
            "R 6\n" +
            "U 11\n" +
            "L 9\n" +
            "U 6\n" +
            "D 11\n" +
            "R 11\n" +
            "U 11\n" +
            "D 14\n" +
            "R 6\n" +
            "L 13\n" +
            "U 1\n" +
            "R 11\n" +
            "L 9\n" +
            "R 11\n" +
            "L 4\n" +
            "R 14\n" +
            "L 2\n" +
            "D 14\n" +
            "R 3\n" +
            "U 9\n" +
            "D 6\n" +
            "U 12\n" +
            "R 7\n" +
            "U 9\n" +
            "L 4\n" +
            "D 9\n" +
            "R 11\n" +
            "L 9\n" +
            "R 14\n" +
            "L 12\n" +
            "U 1\n" +
            "L 10\n" +
            "U 7\n" +
            "R 13\n" +
            "D 3\n" +
            "R 8\n" +
            "L 4\n" +
            "R 4\n" +
            "L 3\n" +
            "U 1\n" +
            "R 14\n" +
            "D 4\n" +
            "R 9\n" +
            "U 3\n" +
            "L 12\n" +
            "U 11\n" +
            "R 5\n" +
            "U 4\n" +
            "L 11\n" +
            "D 14\n" +
            "L 12\n" +
            "R 7\n" +
            "L 15\n" +
            "R 14\n" +
            "D 12\n" +
            "U 10\n" +
            "R 11\n" +
            "D 9\n" +
            "U 14\n" +
            "R 5\n" +
            "D 13\n" +
            "L 14\n" +
            "D 9\n" +
            "U 1\n" +
            "R 10\n" +
            "U 15\n" +
            "R 12\n" +
            "D 13\n" +
            "L 9\n" +
            "R 9\n" +
            "U 8\n" +
            "R 2\n" +
            "U 3\n" +
            "R 3\n" +
            "D 8\n" +
            "U 14\n" +
            "R 4\n" +
            "L 7\n" +
            "U 11\n" +
            "D 6\n" +
            "L 14\n" +
            "D 6\n" +
            "R 8\n" +
            "U 8\n" +
            "R 5\n" +
            "L 13\n" +
            "R 9\n" +
            "D 6\n" +
            "R 6\n" +
            "L 9\n" +
            "U 2\n" +
            "R 13\n" +
            "U 4\n" +
            "D 9\n" +
            "U 14\n" +
            "R 15\n" +
            "D 2\n" +
            "R 6\n" +
            "D 7\n" +
            "L 3\n" +
            "U 14\n" +
            "D 5\n" +
            "U 13\n" +
            "R 8\n" +
            "D 15\n" +
            "U 3\n" +
            "R 9\n" +
            "D 10\n" +
            "R 11\n" +
            "U 12\n" +
            "D 8\n" +
            "R 3\n" +
            "L 5\n" +
            "D 15\n" +
            "L 1\n" +
            "U 6\n" +
            "R 15\n" +
            "D 1\n" +
            "R 13\n" +
            "D 1\n" +
            "U 2\n" +
            "R 15\n" +
            "D 3\n" +
            "L 4\n" +
            "U 9\n" +
            "D 1\n" +
            "L 13\n" +
            "R 11\n" +
            "U 15\n" +
            "R 5\n" +
            "U 15\n" +
            "R 13\n" +
            "L 5\n" +
            "U 2\n" +
            "R 5\n" +
            "D 11\n" +
            "U 11\n" +
            "L 12\n" +
            "D 15\n" +
            "R 11\n" +
            "L 7\n" +
            "D 2\n" +
            "L 11\n" +
            "D 2\n" +
            "L 7\n" +
            "U 7\n" +
            "R 5\n" +
            "D 8\n" +
            "R 6\n" +
            "L 10\n" +
            "U 5\n" +
            "R 3\n" +
            "U 7\n" +
            "R 1\n" +
            "U 7\n" +
            "L 5\n" +
            "U 11\n" +
            "R 14\n" +
            "U 9\n" +
            "D 8\n" +
            "R 10\n" +
            "L 9\n" +
            "R 11\n" +
            "U 6\n" +
            "R 14\n" +
            "U 16\n" +
            "D 13\n" +
            "U 16\n" +
            "L 1\n" +
            "D 2\n" +
            "R 13\n" +
            "D 11\n" +
            "U 9\n" +
            "R 4\n" +
            "L 11\n" +
            "U 2\n" +
            "L 7\n" +
            "R 2\n" +
            "U 14\n" +
            "L 11\n" +
            "R 10\n" +
            "L 1\n" +
            "R 15\n" +
            "U 9\n" +
            "L 16\n" +
            "R 11\n" +
            "D 15\n" +
            "U 10\n" +
            "L 7\n" +
            "R 9\n" +
            "L 9\n" +
            "D 16\n" +
            "U 7\n" +
            "D 10\n" +
            "R 11\n" +
            "L 3\n" +
            "R 16\n" +
            "L 6\n" +
            "R 7\n" +
            "L 7\n" +
            "R 13\n" +
            "L 5\n" +
            "R 6\n" +
            "D 15\n" +
            "R 11\n" +
            "D 7\n" +
            "U 5\n" +
            "D 11\n" +
            "U 13\n" +
            "R 13\n" +
            "U 12\n" +
            "D 10\n" +
            "L 11\n" +
            "D 10\n" +
            "R 6\n" +
            "U 10\n" +
            "D 9\n" +
            "U 1\n" +
            "L 13\n" +
            "U 13\n" +
            "L 11\n" +
            "U 15\n" +
            "L 7\n" +
            "R 2\n" +
            "D 2\n" +
            "U 9\n" +
            "D 1\n" +
            "L 15\n" +
            "U 6\n" +
            "D 3\n" +
            "U 7\n" +
            "D 6\n" +
            "L 6\n" +
            "U 14\n" +
            "L 3\n" +
            "U 16\n" +
            "L 8\n" +
            "D 8\n" +
            "R 4\n" +
            "D 1\n" +
            "U 13\n" +
            "L 4\n" +
            "U 1\n" +
            "R 15\n" +
            "U 3\n" +
            "D 6\n" +
            "L 4\n" +
            "D 12\n" +
            "L 16\n" +
            "D 7\n" +
            "U 10\n" +
            "L 3\n" +
            "R 6\n" +
            "L 12\n" +
            "R 9\n" +
            "D 1\n" +
            "U 7\n" +
            "L 14\n" +
            "D 5\n" +
            "U 15\n" +
            "D 14\n" +
            "L 5\n" +
            "R 6\n" +
            "D 4\n" +
            "U 10\n" +
            "L 17\n" +
            "R 9\n" +
            "D 1\n" +
            "R 12\n" +
            "U 17\n" +
            "R 14\n" +
            "U 4\n" +
            "R 14\n" +
            "U 2\n" +
            "D 13\n" +
            "R 6\n" +
            "L 12\n" +
            "D 10\n" +
            "L 9\n" +
            "D 17\n" +
            "R 14\n" +
            "D 12\n" +
            "L 5\n" +
            "D 17\n" +
            "L 8\n" +
            "U 16\n" +
            "D 9\n" +
            "U 7\n" +
            "L 11\n" +
            "R 13\n" +
            "U 2\n" +
            "D 15\n" +
            "R 2\n" +
            "L 5\n" +
            "U 6\n" +
            "L 5\n" +
            "U 15\n" +
            "D 13\n" +
            "U 17\n" +
            "R 17\n" +
            "L 4\n" +
            "U 17\n" +
            "R 1\n" +
            "D 16\n" +
            "L 16\n" +
            "R 7\n" +
            "U 14\n" +
            "L 3\n" +
            "D 12\n" +
            "L 2\n" +
            "D 6\n" +
            "R 10\n" +
            "U 11\n" +
            "R 8\n" +
            "D 8\n" +
            "U 3\n" +
            "R 5\n" +
            "U 12\n" +
            "D 5\n" +
            "U 14\n" +
            "R 13\n" +
            "U 12\n" +
            "R 1\n" +
            "U 4\n" +
            "D 12\n" +
            "L 6\n" +
            "R 8\n" +
            "D 9\n" +
            "U 4\n" +
            "D 16\n" +
            "L 4\n" +
            "D 7\n" +
            "L 2\n" +
            "U 13\n" +
            "L 7\n" +
            "D 16\n" +
            "U 1\n" +
            "D 14\n" +
            "U 14\n" +
            "L 10\n" +
            "U 2\n" +
            "D 11\n" +
            "L 5\n" +
            "D 14\n" +
            "U 14\n" +
            "L 11\n" +
            "R 17\n" +
            "D 3\n" +
            "R 7\n" +
            "D 6\n" +
            "R 17\n" +
            "D 4\n" +
            "R 14\n" +
            "L 7\n" +
            "U 17\n" +
            "L 6\n" +
            "D 7\n" +
            "L 9\n" +
            "U 10\n" +
            "L 4\n" +
            "D 1\n" +
            "L 17\n" +
            "R 4\n" +
            "D 13\n" +
            "L 4\n" +
            "D 9\n" +
            "U 12\n" +
            "L 6\n" +
            "R 18\n" +
            "L 8\n" +
            "R 16\n" +
            "L 14\n" +
            "D 9\n" +
            "L 18\n" +
            "D 2\n" +
            "U 4\n" +
            "D 7\n" +
            "R 8\n" +
            "D 13\n" +
            "L 17\n" +
            "U 3\n" +
            "D 10\n" +
            "R 10\n" +
            "L 13\n" +
            "D 15\n" +
            "L 14\n" +
            "D 11\n" +
            "R 7\n" +
            "L 3\n" +
            "R 17\n" +
            "U 13\n" +
            "R 14\n" +
            "D 5\n" +
            "L 12\n" +
            "U 4\n" +
            "R 17\n" +
            "D 2\n" +
            "U 7\n" +
            "R 9\n" +
            "U 16\n" +
            "L 18\n" +
            "D 13\n" +
            "R 6\n" +
            "D 8\n" +
            "L 18\n" +
            "D 7\n" +
            "L 11\n" +
            "R 9\n" +
            "U 18\n" +
            "L 10\n" +
            "U 11\n" +
            "D 10\n" +
            "L 7\n" +
            "D 9\n" +
            "R 17\n" +
            "L 4\n" +
            "R 2\n" +
            "U 1\n" +
            "D 9\n" +
            "U 16\n" +
            "D 1\n" +
            "U 5\n" +
            "R 9\n" +
            "U 13\n" +
            "D 10\n" +
            "U 10\n" +
            "L 5\n" +
            "D 1\n" +
            "U 11\n" +
            "L 3\n" +
            "D 15\n" +
            "U 2\n" +
            "R 15\n" +
            "D 1\n" +
            "L 15\n" +
            "R 16\n" +
            "U 14\n" +
            "L 9\n" +
            "D 4\n" +
            "R 15\n" +
            "L 9\n" +
            "U 6\n" +
            "L 4\n" +
            "R 13\n" +
            "U 17\n" +
            "D 6\n" +
            "L 14\n" +
            "D 18\n" +
            "L 17\n" +
            "D 2\n" +
            "L 12\n" +
            "D 11\n" +
            "R 14\n" +
            "U 3\n" +
            "R 12\n" +
            "L 9\n" +
            "R 14\n" +
            "L 16\n" +
            "U 14\n" +
            "L 9\n" +
            "D 1\n" +
            "L 7\n" +
            "D 2\n" +
            "R 2\n" +
            "L 18\n" +
            "D 3\n" +
            "L 10\n" +
            "D 15\n" +
            "L 14\n" +
            "U 11\n" +
            "L 11\n" +
            "D 3\n" +
            "L 4\n" +
            "R 14\n" +
            "D 11\n" +
            "R 8\n" +
            "D 8\n" +
            "L 2\n" +
            "U 15\n" +
            "L 15\n" +
            "D 6\n" +
            "U 1\n" +
            "D 19\n" +
            "U 5\n" +
            "L 5\n" +
            "U 17\n" +
            "D 6\n" +
            "R 5\n" +
            "L 10\n" +
            "R 19\n" +
            "D 9\n" +
            "R 12\n" +
            "L 10\n" +
            "R 1\n" +
            "L 17\n" +
            "U 14\n" +
            "L 1\n" +
            "D 1\n" +
            "U 14\n" +
            "D 14\n" +
            "L 8\n" +
            "D 10\n" +
            "U 12\n" +
            "L 18\n" +
            "U 3\n" +
            "D 17\n" +
            "U 4\n" +
            "L 13\n" +
            "D 3\n" +
            "R 16\n" +
            "U 7\n" +
            "R 19\n" +
            "U 14\n" +
            "D 7\n" +
            "R 15\n" +
            "L 19\n" +
            "R 15\n" +
            "U 11\n" +
            "L 9\n" +
            "U 15\n" +
            "D 16\n" +
            "U 3\n" +
            "L 10\n" +
            "U 1\n" +
            "D 4\n" +
            "U 13\n" +
            "R 7\n" +
            "U 15\n" +
            "D 13\n" +
            "R 18\n" +
            "L 4\n" +
            "U 11\n" +
            "D 3\n" +
            "L 14\n" +
            "R 9\n" +
            "L 8\n" +
            "R 8\n" +
            "U 10\n" +
            "R 17\n" +
            "L 16\n" +
            "U 17\n" +
            "D 15\n" +
            "U 8\n" +
            "D 5\n" +
            "L 8\n" +
            "R 9\n" +
            "D 12\n" +
            "L 2\n" +
            "U 19\n" +
            "L 11\n" +
            "R 18\n" +
            "D 14\n" +
            "R 6\n" +
            "D 4\n" +
            "L 3\n" +
            "D 15\n" +
            "L 3\n" +
            "R 1\n" +
            "U 4\n" +
            "L 6\n" +
            "U 14\n" +
            "L 18\n" +
            "D 13\n" +
            "R 12\n" +
            "U 4\n" +
            "L 12\n" +
            "U 15\n" +
            "L 15\n" +
            "D 2\n" +
            "L 13\n" +
            "R 15\n" +
            "L 3\n" +
            "U 13\n" +
            "R 6\n" +
            "D 1\n" +
            "U 12\n" +
            "D 19\n" +
            "U 10\n" +
            "L 13\n" +
            "D 9\n" +
            "L 18\n" +
            "U 3\n" +
            "D 13\n" +
            "U 2\n" +
            "L 10\n" +
            "D 18\n" +
            "U 16\n" +
            "D 9\n" +
            "U 12";

    record Point(int row, int col){
        Point up() {
            return new Point(row - 1, col);
        }

        Point down() {
            return new Point(row + 1, col);
        }

        Point left() {
            return new Point(row, col - 1);
        }

        Point right() {
            return new Point(row, col + 1);
        }
    };

    public static void main(String[] args) {

        String[] lines = input.split("\\R");

        HashSet<Point> visitedPoints = new HashSet<>();
        visitedPoints.add(new Point(0, 0));

        int ropeLength = 2; // 2 for part 1, 10 for part 2
        Point[] points = new Point[ropeLength];

        for (int i = 0; i < ropeLength; i++) {
            points[i] = new Point(0, 0);
        }

        for (String line : lines) {
            String[] parts = line.split("\\s");
            char direction = parts[0].charAt(0);
            int steps = Integer.parseInt(parts[1]);

            if (direction == 'U') {
                for (int i = 0; i < steps; i++) {

                    points[0] = points[0].up();
                    for (int j = 1; j < points.length; j++) {
                        points[j] = moveTail(points[j - 1], points[j]);
                    }
                    visitedPoints.add(points[ropeLength - 1]);
                }

            } else if (direction == 'D') {
                for (int i = 0; i < steps; i++) {

                    points[0] = points[0].down();
                    for (int j = 1; j < points.length; j++) {
                        points[j] = moveTail(points[j - 1], points[j]);
                    }
                    visitedPoints.add(points[ropeLength - 1]);
                }
            } else if (direction == 'L') {
                for (int i = 0; i < steps; i++) {

                    points[0] = points[0].left();
                    for (int j = 1; j < points.length; j++) {
                        points[j] = moveTail(points[j - 1], points[j]);
                    }
                    visitedPoints.add(points[ropeLength - 1]);
                }
            } else {
                // direction == R
                for (int i = 0; i < steps; i++) {

                    points[0] = points[0].right();
                    for (int j = 1; j < points.length; j++) {
                        points[j] = moveTail(points[j - 1], points[j]);
                    }
                    visitedPoints.add(points[ropeLength - 1]);
                }
            }
        }

        System.out.println(visitedPoints.size());
    }

    static Point moveTail(Point headPos, Point tailPos) {
        if (isTouching(headPos, tailPos)) return tailPos;

        Point updatedTailPosition = tailPos;

        if (tailPos.col() < headPos.col()) updatedTailPosition = tailPos.right();
        else if (tailPos.col() > headPos.col()) updatedTailPosition = tailPos.left();

        if (tailPos.row() < headPos.row()) updatedTailPosition = updatedTailPosition.down();
        else if (tailPos.row() > headPos.row()) updatedTailPosition = updatedTailPosition.up();

        return updatedTailPosition;
    }

    static boolean isTouching(Point headPos, Point tailPos) {
        return Math.abs(headPos.row() - tailPos.row()) < 2
                && Math.abs(headPos.col() - tailPos.col()) < 2;
    }

    static void printGrid(int rows, int cols, Point headPos, Point tailPos) {
        for (int i = 0; i < rows; i++) {
            StringJoiner joiner = new StringJoiner(" ");
            for (int j = 0; j < cols; j++) {
                if (i == headPos.row() && j == headPos.col()) joiner.add("H");
                else if (i == tailPos.row() && j == tailPos.col()) joiner.add("T");
                else joiner.add(".");
            }
            System.out.println(joiner);
        }
    }
}
